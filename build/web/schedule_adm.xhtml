<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">
    <h:head>
         <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Admin || Schedule</title>
    <!-- Core CSS - Include with every page -->
    <link href="assets/plugins/bootstrap/bootstrap.css" rel="stylesheet" />
    <link href="assets/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link href="assets/plugins/pace/pace-theme-big-counter.css" rel="stylesheet" />
  <link href="assets/css/style.css" rel="stylesheet" />
      <link href="assets/css/main-style.css" rel="stylesheet" />

    <!-- Page-Level CSS -->
    <link href="assets/plugins/dataTables/dataTables.bootstrap.css" rel="stylesheet" />
    </h:head>
    <h:body>
        <div id="wrapper">
        <!-- navbar top -->
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation" id="navbar">
            <!-- navbar-header -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">
                    <h2>Dashboard Admin</h2>
                </a>
            </div>
            <!-- end navbar-header -->
            <!-- navbar-top-links -->
            <ul class="nav navbar-top-links navbar-right">
                <!-- main dropdown -->
                <li class="dropdown">
                  
                    <!-- dropdown-messages -->
                    <ul class="dropdown-menu dropdown-messages">
                        
                      
                        <li class="divider"></li>
                        <li>
                          
                        </li>
                    </ul>
                    <!-- end dropdown-messages -->
                </li>


               
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <i class="fa fa-user fa-3x"></i>
                    </a>
                    <!-- dropdown user-->
                    <ul class="dropdown-menu dropdown-user">
                        <li><a href="login.xhtml"><i class="fa fa-sign-out fa-fw"></i>Logout</a>
                        </li>
                    </ul>
                    <!-- end dropdown-user -->
                </li>
                <!-- end main dropdown -->
            </ul>
            <!-- end navbar-top-links -->

        </nav>
        <!-- end navbar top -->

        <!-- navbar side -->
        <nav class="navbar-default navbar-static-side" role="navigation">
            <!-- sidebar-collapse -->
            <div class="sidebar-collapse">
                <!-- side-menu -->
                <ul class="nav" id="side-menu">
                    <li>
                        <!-- user image section-->
                        <br></br>
                        <!--end user image section-->
                    </li>
                    
                     <li class="">
                        <a href="contact_adm.xhtml"><i class="fa fa-dashboard fa-fw"></i>Contact Us</a>
                    </li>
                   
                     <li class="selected">
                        <a href="schedule_adm.xhtml"><i class="fa fa-flask fa-fw"></i>Schedule</a>
                    </li>
                    <li>
                        <a href="regis_adm.xhtml"><i class="fa fa-table fa-fw"></i>Registration</a>
                    </li>
                    <li> 
                    <a href="#"><i class="fa fa-wrench fa-fw"></i>Division<span class="fa arrow"></span></a>
                        <ul class="nav nav-second-level">
                            <li>
                                <a href="kesma_adm.xhtml">KESMA</a>
                            </li>
                            <li>
                                <a href="sosma_adm.xhtml">SOSMA</a>
                            </li>
                            <li>
                                <a href="sospol_adm.xhtml">SOSPOL</a>
                            </li>
                            <li>
                                <a href="keroh_adm.xhtml">KEROHANIAN</a>
                            </li>
                            <li>
                                <a href="danlog_adm.xhtml">DANLOG</a>
                            </li>
                        </ul>
                    </li>
                    
                                 </ul>
                <!-- end side-menu -->
            </div>
            <!-- end sidebar-collapse -->
        </nav>
        <!-- end navbar side -->
        <!--  page-wrapper -->
        <div id="page-wrapper">
            <br></br><br></br><br></br>
            <p:dialog id="scheduleDetail1" widgetVar="$scheduleDetail1" header="Add Schedule" hideEffect="explode" appendTo="@(body)" resizable="false" draggable="false" closeOnEscape="true" style="margin-top: 150px; margin-left: 550px;">  
                <h:form>  
  
            <p:panelGrid columns="2" >  
                <h:outputLabel for="nama_acara" value="Event: *" />  
                <p:inputText id="namaAcara" value="#{scheduleBean.newuser.namaAcara}" label="Acara" placeholder="Acara" />  
  
                <h:outputLabel for="tanggal" value="Date: *" />  
                <p:inputText a:type="date" value="#{scheduleBean.newuser.tanggal}" a:min="1940-12-31" a:max="2030-12-31">
                                                    <f:convertDateTime pattern="yyyy-MM-dd"/>
                                                </p:inputText>
                <h:outputLabel for="nama_departemen" value="Department: *" />  
                <p:inputText id="namaDepartemen" value="#{scheduleBean.newuser.namaDepartemen}" label="Major" placeholder="Major" />
                
                <p:outputLabel for="description" value="Description" />  
                <p:inputTextarea id="description" label="Description" value="#{scheduleBean.newuser.description}" placeholder="Description" />  
                
                <p:commandButton value="add" process="@form" id="AddButtonId" ajax="true" icon="ui-icon-plus" update=":form1:scheduleTable" actionListener="#{scheduleBean.addSchedule()}" oncomplete="PF('$scheduleDetail1').hide()" />  
  
                <p:commandButton id="cancelAddButtonId" value="Cancel" onclick="handleComplete(xhr, status, args)" />  
            </p:panelGrid>  
        </h:form>  
  
    </p:dialog>  
    <h:outputScript>  
        /* 
        <![CDATA[ */  
function handleComplete(xhr, status, args) {  
if(args && args.validNama_acara) {  
$scheduleDetail1.hide();  
}  
}  
/* ]]>*/  
  
    </h:outputScript>  
    <p:dialog id="scheduleDetail2" widgetVar="$scheduleDetail2" header="Update Schedule" hideEffect="explode" appendTo="@(body)" resizable="false" draggable="false" closeOnEscape="true" style="margin-top: 150px; margin-left: 550px;">  
        <h:form>  
            <h:inputHidden value="#{scheduleBean.user.idSchedule}" />  
          <p:panelGrid columns="2">  
                <h:outputLabel for="nama_acara" value="Event: *" />  
                <p:inputText id="nama_acara" value="#{scheduleBean.user.namaAcara}" label="Acara" placeholder="Acara" />  
  
                <h:outputLabel for="tanggal" value="Date: *" />  
              <p:inputText a:type="date" value="#{scheduleBean.newuser.tanggal}" a:min="1940-12-31" a:max="2030-12-31">
                                                    <f:convertDateTime pattern="yyyy-MM-dd"/>
                                                </p:inputText>
                <h:outputLabel for="nama_departemen" value="Department: *" />  
                <p:inputText id="nama_departemen" value="#{scheduleBean.user.namaDepartemen}" label="Major" placeholder="Major" />
                
                <p:outputLabel for="description" value="Description" />  
                <p:inputTextarea id="description" label="Description" value="#{scheduleBean.user.description}" placeholder="Description" />  

                 <p:commandButton value="Update" ajax="true" icon="ui-icon-disk" update=":form1:scheduleTable" actionListener="#{scheduleBean.UpdateUser(scheduleBean.user)}" oncomplete="handleComplete(xhr, status, args)" />  
  
                <p:commandButton id="cancelAddButtonId" value="Cancel" onclick="handleComplete(xhr, status, args)" />  
            </p:panelGrid>   
        </h:form>  
  
    </p:dialog>  
    <h:outputScript id="handleCompleteScript" target="body">  
        /* 
        <![CDATA[ */  
function handleComplete(xhr, status, args) {  
if(args && args.validName) {  
$scheduleDetail2.hide();  
}  
}  
/* ]]>*/  
    </h:outputScript>  
  
    <h:form id="form1">  
       
  <p:commandButton icon="ui-icon-plusthick" id="addScheduleBtn" value="Add Description"  update=":scheduleDetail1" ajax="true" oncomplete="PF('$scheduleDetail1').show()" />  
               <p:dataTable value="#{scheduleBean.users}" var="schedule"  rows="5" id="scheduleTable">   
            
           <p:column headerText="Event">  
                <h:outputText value="#{schedule.namaAcara}" />  
            </p:column>
            <p:column headerText="Date">  
                <h:outputText value="#{schedule.tanggal}">  
                    <f:convertDateTime type="date" pattern="dd-MM-yyyy" />  
                </h:outputText>  
            </p:column>
            <p:column headerText="Department">  
                <h:outputText value="#{schedule.namaDepartemen}" />  
            </p:column>
            <p:column headerText="Description" style="text-align: left;">  
                <h:outputText value="#{schedule.description}" />  
            </p:column>       
                   <p:column headerText="Edit" style="text-align: center">  
                       <p:commandButton icon="ui-icon-pencil" id="editUserBtn" value="Edit" ajax="true" actionListener="#{scheduleBean.changeUser(schedule)}" update=":scheduleDetail2" oncomplete="PF('$scheduleDetail2').show()" />  
  
            </p:column>  
  
            <p:column headerText="Delete" style="text-align: center">  
  
                <p:commandButton  value="Delete" icon="ui-icon-trash" type="button" onclick="PF('confirmDialog').show()" />  
                <p:confirmDialog  message="Are you sure you want to delete this record?Record once deleted can not be retrieved." header="Deleting" severity="alert" widgetVar="confirmDialog" style="margin: 200px; margin-left: 400px;">  
                    <p:commandButton value="Yes Sure" update=":form1:scheduleTable" action="#{scheduleBean.deleteUser(schedule)}" oncomplete="PF('confirmDialog').hide();" />  
  
                    <p:commandButton value="Not Yet" onclick="PF('confirmDialog').hide();" type="button" />  
                </p:confirmDialog>
                </p:column>
             
        </p:dataTable>
    </h:form>
            
            
                    <!--  end  Context Classes  -->
                </div>
            </div> 
       
        <!-- end page-wrapper -->

   
    <!-- end wrapper -->

    <!-- Core Scripts - Include with every page -->
    <script src="assets/plugins/jquery-1.10.2.js"></script>
    <script src="assets/plugins/bootstrap/bootstrap.min.js"></script>
    <script src="assets/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="assets/plugins/pace/pace.js"></script>
    <script src="assets/scripts/siminta.js"></script>
    <!-- Page-Level Plugin Scripts-->
    <script src="assets/plugins/dataTables/jquery.dataTables.js"></script>
    <script src="assets/plugins/dataTables/dataTables.bootstrap.js"></script>
    <script>
        $(document).ready(function () {
            $('#dataTables-example').dataTable();
        });
    </script>
    </h:body>
</html>

